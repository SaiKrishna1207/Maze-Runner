#include<stdio.h>
#include<string.h>
#include<stdlib.h>
char A[23][73]={"#########################################################################",
                "#   #               #               #           #                   #   #",
                "#   #   #########   #   #####   #########   #####   #####   #####   #   #",
                "#               #       #   #           #           #   #   #       #   #",
                "#########   #   #########   #########   #####   #   #   #   #########   #",
                "#       #   #               #           #   #   #   #   #           #   #",
                "#   #   #############   #   #   #########   #####   #   #########   #   #",
                "#   #               #   #   #       #           #           #       #   #",
                "#   #############   #####   #####   #   #####   #########   #   #####   #",
                "#           #       #   #       #   #       #           #   #           #",
                "#   #####   #####   #   #####   #   #########   #   #   #   #############",
                "#       #       #   #   #       #       #       #   #   #       #       #",
                "#############   #   #   #   #########   #   #####   #   #####   #####   #",
                "#           #   #           #       #   #       #   #       #           #",
                "#   #####   #   #########   #####   #   #####   #####   #############   #",
                "#   #       #           #           #       #   #   #               #   #",
                "#   #   #########   #   #####   #########   #   #   #############   #   #",
                "#   #           #   #   #   #   #           #               #   #       #",
                "#   #########   #   #   #   #####   #########   #########   #   #########",
                "#   #       #   #   #           #           #   #       #               #",
                "#   #   #####   #####   #####   #########   #####   #   #########   #   #",
                "#   #                   #           #               #               #   #",
                "# X #####################################################################"
                };
int a,b;
void setup();
void game_loop();
int main()
{
    setup();
    game_loop();
    return 0;
}
void setup()
{   int d;
    printf("Enter a number...");
    scanf("%d",&d);
    r: a=d%22;
    b=d%72;
    if(A[a][b]=='#' || A[a][b]=='X')
        goto r;
    else
        A[a][b]='@';
    int i,j;
    for(i=0;i<23;i++)
    {
        for(j=0;j<73;j++)
        {
            printf("%c",A[i][j]);
        }
        printf("\n");
    }

}
void game_loop()
{
    char ch;int i,j;
    while(A[a][b]!='X')
    {   scanf("%c",&ch);
        if(ch=='w')
        {
            if(A[a-1][b]!='X' && A[a-1][b]!='#')
            {
                A[a-1][b]='@';
                A[a][b]=' ';
                a--;
            }
            else if(A[a-1][b]=='X')
            {
                printf("You win!!!");
                break;
            }
            for(i=0;i<23;i++)
            {
                for(j=0;j<73;j++)
                {
                 printf("%c",A[i][j]);
                }
                printf("\n");
            }

        }
        else if(ch=='a')
        {
            if(A[a][b-1]!='X' && A[a][b-1]!='#')
            {
                A[a][b-1]='@';
                A[a][b]=' ';
                b--;
            }
            else if(A[a][b-1]=='X')
            {
                printf("You win!!!");
                break;
            }
             for(i=0;i<23;i++)
            {
                for(j=0;j<73;j++)
                {
                 printf("%c",A[i][j]);
                }
                printf("\n");
            }
        }
        else if(ch=='s')
        {
            if(A[a+1][b]!='X' && A[a+1][b]!='#')
            {
                A[a+1][b]='@';
                A[a][b]=' ';
                a++;
            }
            else if(A[a+1][b]=='X')
            {
                printf("You win!!!");
                break;
            }
            for(i=0;i<23;i++)
            {
                for(j=0;j<73;j++)
                {
                 printf("%c",A[i][j]);
                }
                printf("\n");
            }

        }
        else if(ch=='d')
        {
            if(A[a][b+1]!='X' && A[a][b+1]!='#')
            {
                A[a][b+1]='@';
                A[a][b]=' ';
                b++;
            }
            else if(A[a][b+1]=='X')
            {
                printf("You win!!!");
                break;
            }
             for(i=0;i<23;i++)
            {
                for(j=0;j<73;j++)
                {
                 printf("%c",A[i][j]);
                }
                printf("\n");
            }
        }
    }
}
